Array.prototype.includes=function(e){return-1!==this.indexOf(e)},String.prototype.characterize=function(e){for(var r=this.split(""),t=0;t<this.length;t++)e(r[t])};var $textarea,$highlight,$keywords=["False","None","True","and","as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield"],$functions=["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EnvironmentError","Exception","False","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleInvokeAll","ModuleNotFoundError","NameError","None","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","True","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError","__build_class__","__debug__","__doc__","__import__","__loader__","__name__","__package__","__spec__","abs","all","any","ascii","bin","bool","bytearray","bytes","callable","chr","classmethod","compile","complex","copyright","credits","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","license","list","locals","log_watchdog","map","max","memoryview","min","next","object","oct","open","ord","pow","pp","print","property","quit","range","repr","reversed","round","set","setattr","slice","sorted","st","staticmethod","str","sum","super","trace_exception","tuple","type","vars","zip"];function tokenize(e){var r=[],t="",a=null;function n(){a={type:"space",value:" "},t=""}function o(){t&&($keywords.includes(t)?r.push({type:"keyword",value:t}):$functions.includes(t)?r.push({type:"function",value:t}):""!==t&&(isNaN(t)?r.push({type:"default",value:t}):r.push({type:"number",value:t})),t="")}e.characterize(function(e){switch(" "!==e&&a&&"space"===a.type&&(r.push(a),t="",a=null),e){case" ":$keywords.includes(t)?(r.push({type:"keyword",value:t}),n()):$functions.includes(t)?(r.push({type:"function",value:t}),n()):""!==t?(isNaN(t)?r.push({type:"default",value:t}):r.push({type:"number",value:t}),n()):a?a.value+=" ":n();break;case'"':case"'":a?"string"===a.type?a.value[0]===e?(a.value+=e,r.push(a),a=null):a.value+=e:"comment"===a.type&&(a.value+=e):(t&&(r.push({type:"default",value:t}),t=""),a={type:"string",value:e});break;case"=":case"+":case"-":case"*":case"/":case"%":case"&":case"|":case">":case"<":case"!":a?a.value+=e:(o(),r.push({type:"operator",value:e}));break;case"#":a?a.value+=e:(o(),a={type:"comment",value:e});break;case":":a?a.value+=e:(o(),r.push({type:"colon",value:e}));break;case"(":a?a.value+=e:(o(),r.push({type:"left-parentheses",value:e}));break;case")":a?a.value+=e:(o(),r.push({type:"right-parentheses",value:e}));break;case"[":a?a.value+=e:(o(),r.push({type:"left-bracket",value:e}));break;case"]":a?a.value+=e:(o(),r.push({type:"right-bracket",value:e}));break;case",":a?a.value+=e:(o(),r.push({type:"comma",value:e}));break;case"\n":if(a)switch(a.type){case"string":case"comment":r.push(a),a=null}else o(),t="";r.push({type:"newline",value:"\n"});break;case";":a?a.value+=e:(o(),r.push({type:"semicolon",value:e}));break;default:a?a.value+=e:t+=e}}),o(),a&&r.push(a);for(var i=!1,s=r.length,l=0;l<s;l++){var u,c=r[l];"keyword"!==c.type||"def"!==c.value&&"class"!==c.value?"default"===c.type&&i?c.type="argument":"left-parentheses"===c.type?(u=r[l-1])&&"function-name"===u.type&&(i=!0):"right-parentheses"===c.type&&(i=!1):(u=r[l+2])&&"default"===u.type&&(u.type="function-name")}return r}window.addEventListener("load",function(){$textarea=document.getElementById("id_code"),$highlight=document.getElementById("highlight-area");function e(){var e=tokenize($textarea.value);$highlight.innerHTML="";for(var r=0;r<e.length;r++){var t=e[r],a=document.createElement("span");a.className="highlight-"+t.type,a.innerText=t.value,$highlight.appendChild(a)}var n=$textarea.value.split("\n");""===n[n.length-1]&&(n=document.createElement("br"),$highlight.appendChild(n)),$highlight.scrollTop=$textarea.scrollTop}var r=""+$textarea.innerHTML;$textarea.addEventListener("input",e),$textarea.addEventListener("scroll",function(e){$highlight.scrollTop=this.scrollTop});$textarea.addEventListener("keydown",function(e){9===e.keyCode&&(e.preventDefault(),this.value+="    ")}),$textarea.textContent=r,$highlight.textContent=r,e()});